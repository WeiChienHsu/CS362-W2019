#!/bin/bash

echo "============ ADVENTURER RANDOM TEST  ============" >> randomtestresults.out
./cardtest1 >> randomtestresults.out
var=$(gcov dominion.c --function-summaries | grep -n playAdventurer | cut -f1 -d:)
((var++))
gcov dominion.c --function-summaries | head -n$(echo $var) | tail -n2 >> randomtestresults.out
gcov dominion.c >> randomtestresults.out
echo -e "\n\n" >> randomtestresults.out

echo "============ SMITHY RANDOM TEST ============" >> randomtestresults.out
./cardtest2 >> randomtestresults.out
var=$(gcov dominion.c --function-summaries | grep -n playSmithy | cut -f1 -d:)
((var++))
gcov dominion.c --function-summaries | head -n$(echo $var) | tail -n2 >> randomtestresults.out
gcov dominion.c >> randomtestresults.out
echo -e "\n\n" >> randomtestresults.out


echo "============ COUNCIL ROOM RANDOM TEST ============" >> randomtestresults.out
./cardtest4 >> randomtestresults.out
var=$(gcov dominion.c --function-summaries | grep -n playCouncilRoom | cut -f1 -d:)
((var++))
gcov dominion.c --function-summaries | head -n$(echo $var) | tail -n2 >> randomtestresults.out
gcov dominion.c >> randomtestresults.out
echo -e "\n\n" >> randomtestresults.out
